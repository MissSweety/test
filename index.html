<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=gb18030">
    <title>Untitled Document</title>

</head>
<body>
<script type="text/javascript">
    /*
     * param1 Array
     * param2 Array
     * return true or false
     */
    function arraysSimilar(arr1, arr2){
        if(!(arr1 instanceof  Array)) return false;
        if(!(arr2 instanceof Array)) return false;

        if(arr1) {//非空数组
            var a_length = arr1.length;
            var b_length = arr2.length;
            var result = true;
            //长度不等，返回false
            if (a_length != b_length) {
                return false;
            }

            else {
                var a_types = {};

                for (var i = 0; i < a_length; i++) {
                    if (typeof arr1[i] == "object") {
                        if (arr1[i] === null) {
                            a_types["null"] = true;
                        }
                        else if (arr1[i] instanceof Array) {
                            a_types["Array"] = true;
                        }
                        else if (arr1[i] instanceof Window) {
                            a_types["Window"] = true;
                        }
                        else if (arr1[i] instanceof Date) {
                            a_types["date"] = true;
                        }
                        else {
                            a_types["object"] = true;
                        }
                    }
                    //基本类型
                    else {
                        a_types[typeof(arr1[i])] = true;
                    }
                }

                for (var j = 0; j < b_length; j++) {
                    var type = "";
                    if (typeof arr2[j] == "object") {
                        if (arr2[j] === null) {
                            type = "null";
                        }
                        else if (arr2[j] instanceof Array) {
                            type = "Array";
                        }
                        else if (arr2[j] instanceof Window) {
                            type = "Window";
                        }
                        else if (arr2[j] instanceof Date) {
                            type = "date";
                        }
                        else {
                            type = "object";
                        }
                    }
                    else {
                        type = typeof(arr2[j]);
                    }
                    if (a_types[type] != true) {
                        result = false;
                        break;
                    }
                    else {
                        a_types[type] = false;
                        result = true;
                        continue;
                    }
                }
                return result;
            }
        }
        else{//空数组
            if(!arr2) return true;
            return false;

        }
    }
</script>
<script src="testData.js"></script>
</body>
</html>
